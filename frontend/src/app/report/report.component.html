<div>
    <div style="display:flex;justify-content: space-around;width: 400px;margin: auto;margin-bottom: 0px;padding: 30px;">
        <button mat-raised-button color="primary" (click)="burstListEditable=!burstListEditable">
            {{burstListEditable?'Save List':'Edit List'}}
        </button>
        <button *ngIf="!burstListEditable" mat-raised-button color="accent" (click)="proceedToML()">
            Proceed to ML Model
        </button>
    </div>

    <div style="height: 40px;">
    </div>
</div>
<!-- <div style="display: flex; justify-content: center;align-items: center;margin-bottom: 10px;">
    View Mode: <mat-button-toggle-group style="margin-left: 10px;"  [(ngModel)]="tableMode">
        <mat-button-toggle [value]="true">Table</mat-button-toggle>
        <mat-button-toggle [value]="false">Grid</mat-button-toggle>
      </mat-button-toggle-group>
</div> -->
<div style="display: flex; flex-direction: column;align-items: center;">
    <h1>
        Initial Bursts from EPF Model
    </h1>
</div>
<table  *ngIf="tableMode"style="width: 90%;margin: 5%;" mat-table [dataSource]="filterAccepted(bursts)" class="mat-elevation-z8">
    <ng-container matColumnDef="peakTime">
        <th mat-header-cell *matHeaderCellDef>PeakTime</th>
        <td mat-cell *matCellDef="let element">
            <div class="editButtonsTable">
                t = {{element.peakTime}}
                <button 
                *ngIf="editable"
                mat-raised-button 
                style="color: white;background-color: red;"
                (click)="rejectedBursts.push(tableData.indexOf(element))"
                >
                Remove
                    <mat-icon>delete</mat-icon>
                </button>    
            </div>
        </td>
    </ng-container>
    
    <ng-container matColumnDef="chartNS" #charts>
        <th mat-header-cell *matHeaderCellDef>Chart - NS</th>
        <td mat-cell *matCellDef="let element" #chartcell>
            <app-linescatter [burst]="element" #linescatter></app-linescatter>
        </td>
    </ng-container>
    <ng-container matColumnDef="meta">
        <th mat-header-cell *matHeaderCellDef>Metadata</th>
        <td mat-cell *matCellDef="let element">
            <ul>
                <li>Peak Value: {{element.peakValue}}</li>
                <li>BGValue: {{element.BGValue}}</li>
                <li>MLConf: {{element.MLConf}}</li>
                <li>Characteristic: {{element.Char}}</li>
            </ul>
        </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumnsMain"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsMain;"></tr>
</table>
<app-linescatter [burst]="bursts[0]" #linescatter></app-linescatter>