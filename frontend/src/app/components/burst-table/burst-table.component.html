
<table  style="width: 95%;margin:2.5%" mat-table [dataSource]="areDeleted?filterRejected(bursts):filterAccepted(bursts)" class="mat-elevation-z8">
    <ng-container matColumnDef="peak_time">
        <th mat-header-cell *matHeaderCellDef>PeakTime</th>
        <td mat-cell *matCellDef="let element">
            <div class="editButtonsTable">
                <p [style]="areDeleted?'opacity: 0.4;':''">
                t = {{element.peak_time}}
                </p>
                <button 
                *ngIf="burstListEditable&&(!areDeleted)"
                mat-raised-button 
                style="color: white;background-color: red;"
                (click)="remove(bursts.indexOf(element))"
                >
                Remove
                    <mat-icon>delete</mat-icon>
                </button>    
                <button 
                *ngIf="burstListEditable&&(areDeleted)"
                mat-raised-button 
                style="color: white;background-color: green;"
                (click)="add(bursts.indexOf(element))"
                >
                Add
                    <mat-icon>check</mat-icon>
                </button>    
            </div>
        </td>
    </ng-container>
    
    <ng-container matColumnDef="chartNS" #charts>
        <th mat-header-cell *matHeaderCellDef>Chart - NS</th>
        <td [style]="areDeleted?'opacity: 0.4;':''" mat-cell *matCellDef="let element" #chartcell>
            <app-linescatter *ngIf="element.ns.is_detected===true" [statData]="element.ns"></app-linescatter>
            <h1 *ngIf="element.ns.is_detected===false">Not detected by NS</h1>
        </td>
    </ng-container>
    <ng-container matColumnDef="dataNS" #charts>
        <th mat-header-cell *matHeaderCellDef>Data - NS</th>
        <td [style]="areDeleted?'opacity: 0.4;':''" mat-cell *matCellDef="let element" #chartcell>
            <div *ngIf="element.ns.is_detected===true">
                <p *ngIf="element.ns.duration!==null">Duration: {{element.ns.duration}}</p>
                <p>Chi Sq: {{element.ns.fit_params.ChiSq>0?element.ns.fit_params.ChiSq:'&infin;'}}</p>
                <p>A: {{element.ns.fit_params.A}}</p>
                <p>B: {{element.ns.fit_params.B}}</p>
                <p>C: {{element.ns.fit_params.C}}</p>
                <p>D: {{element.ns.fit_params.D}}</p>
            </div>
        </td>
    </ng-container>

    <ng-container matColumnDef="chartLM" #charts>
        <th mat-header-cell *matHeaderCellDef>Chart - LM</th>
        <td [style]="areDeleted?'opacity: 0.4;':''" mat-cell *matCellDef="let element" #chartcell>
            <app-linescatter *ngIf="element.lm.is_detected===true"[statData]="element.lm"></app-linescatter>
            <h1 *ngIf="element.lm.is_detected===false">
                Not detected by LM
            </h1>
        </td>
    </ng-container>
    <ng-container matColumnDef="dataLM" #charts>
        <th mat-header-cell *matHeaderCellDef>Data - LM</th>
        <td [style]="areDeleted?'opacity: 0.4;':''" mat-cell *matCellDef="let element" #chartcell>
            <div *ngIf="element.lm.is_detected===true">
                <p *ngIf="element.lm.duration!==undefined&&element.lm.duration!==null">Duration: {{element.lm.duration}}</p>
                <p>Chi Sq: {{element.lm.fit_params.ChiSq>0?element.lm.fit_params.ChiSq:'infinity'}}</p>
                <p>A: {{element.lm.fit_params.A}}</p>
                <p>B: {{element.lm.fit_params.B}}</p>
                <p>C: {{element.lm.fit_params.C}}</p>
                <p>D: {{element.lm.fit_params.D}}</p>
            </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="meta">
        <th mat-header-cell *matHeaderCellDef>Metadata</th>
        <td [style]="areDeleted?'opacity: 0.4;':''" mat-cell *matCellDef="let element">
                <p>Peak Value: {{element.peak_rate}}</p>
                <p>BG Rate: {{element.bg_rate}}</p>
                <p>Confidence: {{element.ml_conf}}</p>
                <p>Characteristic: {{element.class}}</p>
                <p>Peak Temp: {{(element.peak_temp*(1e6)).toPrecision(3)}} K</p>
                <p>Peak Flux: {{element.peak_flux.toPrecision(3)}} W/m2</p>
                <p>Peak EM: {{element.peak_em.toPrecision(3)}} REAL UNITS</p>
        </td>
    </ng-container>
    <tr mat-header-row  *matHeaderRowDef="displayedColumnsMain"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsMain;"></tr>
</table>